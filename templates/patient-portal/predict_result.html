{% extends "patient-portal/base.html" %}
{% load static %}
{% block diet %}active{% endblock diet %}

{% block style %}
<link rel="stylesheet" href="{% static "css/patient-portal/progress.css" %}">
{% endblock style %}

{% block title %}Result{% endblock title %}
{% block content %}
<h2>Your Prakriti Result</h2>

<div class="card p-3 mb-4">
    <p><strong>Vata:</strong> {{ vata }}%</p>
    <p><strong>Pitta:</strong> {{ pitta }}%</p>
    <p><strong>Kapha:</strong> {{ kapha }}%</p>

    <h4 class="mt-3">Dominant Dosha: {{ dominant }}</h4>
</div>

<div class="progress-content-card">
    <canvas id="resultChart" height="120"></canvas>
</div>

{% comment %} <div class="get-diet">
    <a href="{% url "patient-portal/diet.html" %}">
    <button>
        Get Personalized Diet
    </button></a>
</div> {% endcomment %}

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const ctx = document.getElementById('resultChart');

new Chart(ctx, {
    type: 'bar',
    data: {
        labels: ['Vata', 'Pitta', 'Kapha'],
        datasets: [{
            data: [{{ vata }}, {{ pitta }}, {{ kapha }}],
            borderWidth: 1
        }]
    }
});
</script>

{% endblock %}